"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[734],{7623:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>i});var o=t(3251),c=t(9024);const r={},s="WebComponent",l={id:"web-component",title:"WebComponent",description:"webComponent \u539f\u751f\u7ec4\u4ef6 \u5177\u6709\u5929\u7136\u7684\u9694\u79bb\u6027\u3001\u517c\u5bb9\u6027\uff0c\u540c\u65f6\u53ef\u4ee5\u4f7f\u7528 react\u3001vue \u7ec4\u4ef6\u63a5\u5165\u5230\u539f\u751f\u7ec4\u4ef6\u4e2d",source:"@site/docs/web-component.md",sourceDirName:".",slug:"/web-component",permalink:"/docs/web-component",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"position\uff1asticky \u6848\u4f8b\u5b9e\u73b0",permalink:"/docs/case/position-sticky"},next:{title:"\u65e0\u7ebf\u7aef\u5f00\u53d1\u6ce8\u610f\u4e8b\u9879",permalink:"/docs/wireless"}},a={},i=[{value:"WebComponent \u7528\u6cd5",id:"webcomponent-\u7528\u6cd5",level:2},{value:"\u6700\u57fa\u7840\u7684 WebComponent",id:"\u6700\u57fa\u7840\u7684-webcomponent",level:3},{value:"\u76d1\u542c\u5c5e\u6027\u53d8\u5316",id:"\u76d1\u542c\u5c5e\u6027\u53d8\u5316",level:3},{value:"\u7b80\u5355\u7684 React \u7ec4\u4ef6\u8f6c\u6362\u4e3a WebComponent",id:"\u7b80\u5355\u7684-react-\u7ec4\u4ef6\u8f6c\u6362\u4e3a-webcomponent",level:3},{value:"\u5411 React \u7ec4\u4ef6\u4f20\u9012\u53c2\u6570",id:"\u5411-react-\u7ec4\u4ef6\u4f20\u9012\u53c2\u6570",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"webcomponent",children:"WebComponent"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"webComponent \u539f\u751f\u7ec4\u4ef6 \u5177\u6709\u5929\u7136\u7684\u9694\u79bb\u6027\u3001\u517c\u5bb9\u6027\uff0c\u540c\u65f6\u53ef\u4ee5\u4f7f\u7528 react\u3001vue \u7ec4\u4ef6\u63a5\u5165\u5230\u539f\u751f\u7ec4\u4ef6\u4e2d"})}),"\n",(0,o.jsx)(n.h2,{id:"webcomponent-\u7528\u6cd5",children:"WebComponent \u7528\u6cd5"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Web_components",children:"\u67e5\u770b MDN \u7684\u6587\u6863"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/customElements",children:"\u5173\u4e8e customElements \u7684\u6587\u6863"})}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"\u6700\u57fa\u7840\u7684-webcomponent",children:"\u6700\u57fa\u7840\u7684 WebComponent"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javaScript",children:'class Webcomp extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    this.innerHTML = `<div>hello wrold</div>`\n  }\n}\n\nif(!customElements.get("ele-xxx") {\n  customElements.define("ele-xxx", Webcomp);\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u76d1\u542c\u5c5e\u6027\u53d8\u5316",children:"\u76d1\u542c\u5c5e\u6027\u53d8\u5316"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javaScript",children:'class WebComp extends HTMLElement {\n  // \u8bbe\u7f6e\u76d1\u542c val \u5c5e\u6027\n  static observedAttributes = ["val"];\n\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    this.innerHTML = `<div>hello wrold</div>`\n  }\n\n  attributeChangedCallback(name, oldVlue, newValue) {\n    console.log(`\u5c5e\u6027 ${name} \u5df2\u7531 ${oldVlue} \u53d8\u66f4\u4e3a ${newValue}`);\n  }\n}\n\nif(!customElements.get("ele-xxx") {\n  customElements.define("ele-xxx", Webcomp);\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u7b80\u5355\u7684-react-\u7ec4\u4ef6\u8f6c\u6362\u4e3a-webcomponent",children:"\u7b80\u5355\u7684 React \u7ec4\u4ef6\u8f6c\u6362\u4e3a WebComponent"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javaScript",children:'import React from "react";\nimport ReactDOM from "react-dom";\nimport ReactComp from "./ReactComp.js";\n\nclass WebComp extends HTMLElement {\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n    this.innerHTML = `<div class="root">hello wrold</div>`;\n    ReactDOM.render(<ReactComp />, this.querySelector(".root"));\n  }\n}\n\nif(!customElements.get("ele-xxx") {\n  customElements.define("ele-xxx", Webcomp);\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u5411-react-\u7ec4\u4ef6\u4f20\u9012\u53c2\u6570",children:"\u5411 React \u7ec4\u4ef6\u4f20\u9012\u53c2\u6570"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javaScript",children:'import React from "react";\nimport ReactDOM from "react-dom";\nimport ReactComp from "./ReactComp.js";\n\nclass WebComp extends HTMLElement {\n  static get observedAttributes() {\n    return ["data"];\n  }\n\n  constructor() {\n    super();\n  }\n\n  get data() {\n    return this.getAttribute("data");\n  }\n\n  connectedCallback() {\n    this.innerHTML = `<div class="root">hello wrold</div>`;\n    this.render();\n  }\n\n  attributeChangedCallback(name, oldVlue, newValue) {\n    console.log(`\u5c5e\u6027 ${name} \u5df2\u7531 ${oldVlue} \u53d8\u66f4\u4e3a ${newValue}`);\n    this.render();\n  }\n\n  render() {\n    ReactDOM.render(<ReactComp data={this.data} />, this);\n  }\n}\n\nif(!customElements.get("ele-xxx") {\n  customElements.define("ele-xxx", Webcomp);\n}\n'})})]})}function m(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},9024:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>s});var o=t(8658);const c={},r=o.createContext(c);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);